<canvas id="<%= options[:id] %>" width="<%= options[:width] %>"
  height="<%= options[:height] %>" class="chartJs">
</canvas>

<script type="text/javascript">
  var data = {
    labels: <%= raw labels %>,
    datasets: [
      <% datasets.each do |dataset|  %>
        {
          pointStrokeColor: "#fff",
          pointHighlightFill: "#fff",
          data: <%= dataset.data %>,
          label: '<%= dataset.label %>',
          fillColor: '<%= dataset.fill %>',
          pointColor: '<%= dataset.color %>',
          strokeColor: '<%= dataset.color %>',
          pointHighlightStroke: '<%= dataset.color %>',
        },
      <% end %>
    ]
  };

  // Get context with jQuery - using jQuery's .get() method.
  var ctx = $("#<%= options[:id] %>").get(0).getContext("2d");
  // This will get the first returned node in the jQuery collection.
  var myLineChart = new Chart(ctx).Line(data);
</script>
